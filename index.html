<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Jade's Meal Planning & Macro Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #3C4453;
            background: linear-gradient(135deg, #FBECDB 0%, #f5f1e8 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* HEADER */
        .header {
            background: linear-gradient(135deg, #563F57 0%, #F4D9DC 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .header h1 {
            font-size: 2em;
            margin-bottom: 8px;
        }
        .header p {
            font-size: 0.95em;
            opacity: 0.95;
        }
        
        /* TAB NAVIGATION */
        .tabs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 10px;
            margin-bottom: 30px;
        }
        .tab-button {
            background: white;
            border: none;
            padding: 12px 16px;
            font-size: 0.9em;
            cursor: pointer;
            border-radius: 8px;
            color: #563F57;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        .tab-button:hover {
            background: #f5f1e8;
            transform: translateY(-2px);
        }
        .tab-button.active {
            background: #563F57;
            color: white;
            box-shadow: 0 4px 12px rgba(86, 63, 87, 0.3);
        }
        
        /* TAB CONTENT */
        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        .tab-content.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* SECTIONS */
        .section {
            background: white;
            padding: 25px;
            margin-bottom: 20px;
            border-radius: 8px;
            border-left: 4px solid #F4D9DC;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        
        h2 {
            color: #563F57;
            font-size: 1.5em;
            margin-top: 0;
            margin-bottom: 20px;
        }
        h3 {
            color: #563F57;
            font-size: 1.1em;
            margin-top: 20px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #F4D9DC;
        }
        
        /* MEAL GRID */
        .week-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .day-card {
            background: #fafafa;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #e0e0e0;
        }
        .day-header {
            font-weight: 600;
            color: #563F57;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #F4D9DC;
            font-size: 1.1em;
        }
        
        /* DAILY MACRO SUMMARY */
        .daily-macros {
            background: linear-gradient(135deg, #F4D9DC 0%, #fff 100%);
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 15px;
            border: 1px solid #E8C2C8;
        }
        .macro-row {
            display: grid;
            grid-template-columns: 80px 1fr 80px;
            gap: 10px;
            margin-bottom: 8px;
            align-items: center;
            font-size: 0.85em;
        }
        .macro-row:last-child {
            margin-bottom: 0;
        }
        .macro-label {
            font-weight: 600;
            color: #563F57;
        }
        .macro-bar {
            height: 6px;
            background-color: #e0e0e0;
            border-radius: 3px;
            overflow: hidden;
        }
        .macro-fill {
            height: 100%;
            background: linear-gradient(90deg, #F4D9DC, #563F57);
            border-radius: 3px;
            transition: width 0.2s ease;
        }
        .macro-remaining {
            text-align: right;
            color: #666;
            font-weight: 500;
        }
        .macro-remaining.low {
            color: #c00;
            font-weight: 600;
        }
        
        .meal-item {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            align-items: flex-start;
        }
        .meal-label {
            font-weight: 600;
            font-size: 0.85em;
            color: #666;
            min-width: 70px;
        }
        .meal-input {
            flex: 1;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 0.9em;
            font-family: inherit;
        }
        .meal-input:focus {
            outline: none;
            border-color: #F4D9DC;
            box-shadow: 0 0 0 3px rgba(244, 217, 220, 0.2);
        }
        
        /* SHOPPING LIST */
        .shopping-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
        }
        .shopping-item {
            background: #fafafa;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .item-name {
            flex: 1;
            font-weight: 500;
            color: #3C4453;
        }
        .item-qty {
            font-size: 0.9em;
            color: #999;
            margin-right: 10px;
        }
        .woolworths-link {
            background-color: #F4D9DC;
            color: #563F57;
            padding: 6px 12px;
            border-radius: 4px;
            text-decoration: none;
            font-size: 0.85em;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: all 0.2s ease;
        }
        .woolworths-link:hover {
            background-color: #E8C2C8;
            transform: translateY(-1px);
        }
        
        /* INPUTS */
        input[type="text"], input[type="number"], select {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 0.9em;
            font-family: inherit;
        }
        input[type="text"]:focus, input[type="number"]:focus, select:focus {
            outline: none;
            border-color: #F4D9DC;
            box-shadow: 0 0 0 3px rgba(244, 217, 220, 0.2);
        }
        
        .button {
            background-color: #563F57;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .button:hover {
            background-color: #452d45;
            transform: translateY(-2px);
        }
        
        .empty-state {
            background: #f9f9f9;
            padding: 40px;
            border-radius: 8px;
            text-align: center;
            color: #999;
        }
        
        .footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 30px;
            border-top: 2px solid #F4D9DC;
            color: #999;
            font-size: 0.9em;
        }
        
        /* RESPONSIVE */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.5em;
            }
            .tabs {
                grid-template-columns: 1fr 1fr;
            }
            .week-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>üçΩÔ∏è Jade's Meal Planning & Macro Tracking</h1>
        <p>Weekly meal planning with real-time macro calculator</p>
    </div>

    <!-- TAB NAVIGATION -->
    <div class="tabs">
        <button class="tab-button active" onclick="openTab(event, 'jades-meals')">üë© Jade's Meals</button>
        <button class="tab-button" onclick="openTab(event, 'harveys-meals')">üë∂ Harvey's Meals</button>
        <button class="tab-button" onclick="openTab(event, 'shopping')">üõí Shopping List</button>
        <button class="tab-button" onclick="openTab(event, 'woolworths')">üõçÔ∏è Woolworths</button>
    </div>

    <!-- TAB 1: JADE'S MEALS -->
    <div id="jades-meals" class="tab-content active">
        <div class="section">
            <h2>Jade's Weekly Meal Plan + Macros</h2>
            <p style="color: #666; margin-bottom: 20px;">Plan your meals for the week. See your daily macro balance as you add meals.</p>
            
            <div class="week-grid" id="jades-week">
                <!-- Generated by JavaScript -->
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button class="button" onclick="clearJadesMeals()">Clear All Meals</button>
            </div>
        </div>
    </div>

    <!-- TAB 2: HARVEY'S MEALS -->
    <div id="harveys-meals" class="tab-content">
        <div class="section">
            <h2>Harvey's Weekly Meal Plan</h2>
            <p style="color: #666; margin-bottom: 20px;">Plan Harvey's meals for the week.</p>
            
            <div class="week-grid" id="harveys-week">
                <!-- Generated by JavaScript -->
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button class="button" onclick="clearHarveysMeals()">Clear All Meals</button>
            </div>
        </div>
    </div>

    <!-- TAB 3: SHOPPING LIST -->
    <div id="shopping" class="tab-content">
        <div class="section">
            <h2>Shopping List</h2>
            <p style="color: #666; margin-bottom: 20px;">Items extracted from your meal plans. Add more manually as needed.</p>
            
            <h3 style="margin-top: 0;">Add Item Manually</h3>
            <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                <input type="text" id="item-name" placeholder="Item name (e.g., Chicken breast)" style="flex: 1;">
                <input type="number" id="item-qty" placeholder="Qty" style="width: 80px;">
                <input type="text" id="item-unit" placeholder="Unit (e.g., kg)" style="width: 80px;">
                <button class="button" onclick="addShoppingItem()">Add Item</button>
            </div>

            <h3>Shopping List</h3>
            <div class="shopping-grid" id="shopping-list">
                <div class="empty-state">
                    <p>No items yet. Add meals or items manually above.</p>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button class="button" onclick="clearShoppingList()">Clear Shopping List</button>
            </div>
        </div>
    </div>

    <!-- TAB 4: WOOLWORTHS -->
    <div id="woolworths" class="tab-content">
        <div class="section">
            <h2>üõçÔ∏è Woolworths Shopping</h2>
            <p style="color: #666; margin-bottom: 20px;">Click the buttons below to open Woolworths search for each item.</p>
            
            <h3 style="margin-top: 0;">Your Shopping Items with Woolworths Links</h3>
            <div class="shopping-grid" id="woolworths-list">
                <div class="empty-state">
                    <p>No items in shopping list yet.</p>
                </div>
            </div>

            <div style="margin-top: 30px; background-color: #fff8dc; padding: 20px; border-radius: 8px; border-left: 4px solid #F4D9DC;">
                <h3 style="margin-top: 0;">How This Works</h3>
                <ol style="margin-left: 20px; color: #666;">
                    <li>Click "Search Woolworths" for each item</li>
                    <li>Woolworths.com.au opens and searches for that item</li>
                    <li>Click the product ‚Üí Add to cart</li>
                    <li>Come back here, click next item</li>
                    <li>Once all items added, go to Woolworths cart and checkout</li>
                </ol>
            </div>
        </div>
    </div>

</div>

<div class="footer">
    <p><strong>üçΩÔ∏è Jade's Meal Planning & Macro Dashboard</strong></p>
    <p>For: Jade Williams | Real-time macro tracking</p>
    <p style="margin-top: 15px; font-size: 0.85em;">üíô Give John your recipes with macros and he'll add them.</p>
</div>

<script>
    const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
    const jadesMealTypes = ['Breakfast', 'Lunch', 'Snack', 'Dinner', 'Dessert'];
    const harveysMealTypes = ['Breakfast', 'Lunch', 'Snack', 'Dinner'];
    
    const JADE_TARGETS = {
        calories: 1550,
        protein: 120,
        fats: 45,
        carbs: 166
    };

    // Meal database with macros
    const mealDatabase = {
        'Double Cheeseburger': {
            calories: 507,
            protein: 49,
            fats: 22,
            carbs: 29,
            ingredients: [
                { name: 'Extra Lean Beef Mince (5 Star)', qty: '180', unit: 'g' },
                { name: '50% Less Fat Cheese Slice - Bega', qty: '1', unit: 'slice' },
                { name: 'Brioche Bun - Bakery Du Jour', qty: '1', unit: 'bun' },
                { name: 'Lettuce', qty: '10', unit: 'g' },
                { name: 'Onion', qty: '15', unit: 'g' },
                { name: 'Special Burger Pickles - Coles', qty: '5', unit: 'g' },
                { name: 'Special Burger Sauce - Coles Brand', qty: '10', unit: 'ml' },
                { name: 'Tomato', qty: '15', unit: 'g' }
            ]
        }
    };
    
    let meals = {
        jades: {
            'Friday-Dinner': 'Double Cheeseburger'
        },
        harveys: {},
        shopping: [
            { id: 1, name: 'Extra Lean Beef Mince (5 Star)', qty: '180', unit: 'g' },
            { id: 2, name: '50% Less Fat Cheese Slice - Bega', qty: '1', unit: 'slice' },
            { id: 3, name: 'Brioche Bun - Bakery Du Jour', qty: '1', unit: 'bun' },
            { id: 4, name: 'Lettuce', qty: '10', unit: 'g' },
            { id: 5, name: 'Onion', qty: '15', unit: 'g' },
            { id: 6, name: 'Special Burger Pickles - Coles', qty: '5', unit: 'g' },
            { id: 7, name: 'Special Burger Sauce - Coles Brand', qty: '10', unit: 'ml' },
            { id: 8, name: 'Tomato', qty: '15', unit: 'g' }
        ]
    };

    // Initialize from localStorage
    function loadData() {
        const saved = localStorage.getItem('jadesMealData');
        if (saved) {
            try {
                meals = JSON.parse(saved);
            } catch (e) {
                console.log('No saved data');
            }
        }
        renderAll();
    }

    function saveData() {
        localStorage.setItem('jadesMealData', JSON.stringify(meals));
    }

    function calculateDayMacros(day) {
        let totals = { calories: 0, protein: 0, fats: 0, carbs: 0 };
        
        jadesMealTypes.forEach(mealType => {
            const key = `${day}-${mealType}`;
            const mealName = meals.jades[key];
            if (mealName && mealDatabase[mealName]) {
                const meal = mealDatabase[mealName];
                totals.calories += meal.calories;
                totals.protein += meal.protein;
                totals.fats += meal.fats;
                totals.carbs += meal.carbs;
            }
        });
        
        return totals;
    }

    function renderAll() {
        renderJadesMeals();
        renderHarveysMeals();
        renderShoppingList();
        renderWoolworthsList();
    }

    function renderJadesMeals() {
        const container = document.getElementById('jades-week');
        container.innerHTML = '';

        days.forEach(day => {
            const dayMacros = calculateDayMacros(day);
            const remaining = {
                calories: Math.max(0, JADE_TARGETS.calories - dayMacros.calories),
                protein: Math.max(0, JADE_TARGETS.protein - dayMacros.protein),
                fats: Math.max(0, JADE_TARGETS.fats - dayMacros.fats),
                carbs: Math.max(0, JADE_TARGETS.carbs - dayMacros.carbs)
            };
            
            const pctCal = Math.min(100, (dayMacros.calories / JADE_TARGETS.calories) * 100);
            const pctPro = Math.min(100, (dayMacros.protein / JADE_TARGETS.protein) * 100);
            const pctFat = Math.min(100, (dayMacros.fats / JADE_TARGETS.fats) * 100);
            const pctCarb = Math.min(100, (dayMacros.carbs / JADE_TARGETS.carbs) * 100);

            let dayHtml = `<div class="day-card">
                <div class="day-header">${day}</div>
                
                <div class="daily-macros">
                    <div class="macro-row">
                        <div class="macro-label">Cal</div>
                        <div class="macro-bar"><div class="macro-fill" style="width: ${pctCal}%"></div></div>
                        <div class="macro-remaining ${remaining.calories < 200 ? 'low' : ''}">${remaining.calories}</div>
                    </div>
                    <div class="macro-row">
                        <div class="macro-label">Pro</div>
                        <div class="macro-bar"><div class="macro-fill" style="width: ${pctPro}%"></div></div>
                        <div class="macro-remaining ${remaining.protein < 10 ? 'low' : ''}">${remaining.protein}g</div>
                    </div>
                    <div class="macro-row">
                        <div class="macro-label">Fat</div>
                        <div class="macro-bar"><div class="macro-fill" style="width: ${pctFat}%"></div></div>
                        <div class="macro-remaining ${remaining.fats < 5 ? 'low' : ''}">${remaining.fats}g</div>
                    </div>
                    <div class="macro-row">
                        <div class="macro-label">Carb</div>
                        <div class="macro-bar"><div class="macro-fill" style="width: ${pctCarb}%"></div></div>
                        <div class="macro-remaining ${remaining.carbs < 20 ? 'low' : ''}">${remaining.carbs}g</div>
                    </div>
                </div>`;
            
            jadesMealTypes.forEach(mealType => {
                const key = `${day}-${mealType}`;
                const value = meals.jades[key] || '';
                dayHtml += `
                    <div class="meal-item">
                        <div class="meal-label">${mealType}</div>
                        <input type="text" class="meal-input" 
                            data-key="${key}" 
                            data-type="jades"
                            value="${value}"
                            onchange="updateMeal(this)">
                    </div>
                `;
            });

            dayHtml += `</div>`;
            container.insertAdjacentHTML('beforeend', dayHtml);
        });
    }

    function renderHarveysMeals() {
        const container = document.getElementById('harveys-week');
        container.innerHTML = '';

        days.forEach(day => {
            let dayHtml = `<div class="day-card">
                <div class="day-header">${day}</div>`;
            
            harveysMealTypes.forEach(mealType => {
                const key = `${day}-${mealType}`;
                const value = meals.harveys[key] || '';
                dayHtml += `
                    <div class="meal-item">
                        <div class="meal-label">${mealType}</div>
                        <input type="text" class="meal-input" 
                            data-key="${key}" 
                            data-type="harveys"
                            value="${value}"
                            onchange="updateMeal(this)">
                    </div>
                `;
            });

            dayHtml += `</div>`;
            container.insertAdjacentHTML('beforeend', dayHtml);
        });
    }

    function updateMeal(input) {
        const key = input.getAttribute('data-key');
        const type = input.getAttribute('data-type');
        meals[type][key] = input.value;
        saveData();
        renderAll();
    }

    function clearJadesMeals() {
        if (confirm('Clear all of Jade\'s meals? This cannot be undone.')) {
            meals.jades = {};
            saveData();
            renderAll();
        }
    }

    function clearHarveysMeals() {
        if (confirm('Clear all of Harvey\'s meals? This cannot be undone.')) {
            meals.harveys = {};
            saveData();
            renderAll();
        }
    }

    function addShoppingItem() {
        const name = document.getElementById('item-name').value.trim();
        const qty = document.getElementById('item-qty').value.trim();
        const unit = document.getElementById('item-unit').value.trim();

        if (!name) {
            alert('Please enter an item name');
            return;
        }

        const item = {
            id: Date.now(),
            name: name,
            qty: qty || '1',
            unit: unit || 'unit'
        };

        meals.shopping.push(item);
        saveData();
        renderAll();

        document.getElementById('item-name').value = '';
        document.getElementById('item-qty').value = '';
        document.getElementById('item-unit').value = '';
        document.getElementById('item-name').focus();
    }

    function removeShoppingItem(id) {
        meals.shopping = meals.shopping.filter(item => item.id !== id);
        saveData();
        renderAll();
    }

    function renderShoppingList() {
        const container = document.getElementById('shopping-list');
        
        if (meals.shopping.length === 0) {
            container.innerHTML = '<div class="empty-state"><p>No items yet.</p></div>';
            return;
        }

        container.innerHTML = '';
        meals.shopping.forEach(item => {
            const html = `
                <div class="shopping-item">
                    <div>
                        <div class="item-name">${item.name}</div>
                        <div class="item-qty">${item.qty} ${item.unit}</div>
                    </div>
                    <button style="background: #ffcccc; color: #c00; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-weight: 600;" onclick="removeShoppingItem(${item.id})">Remove</button>
                </div>
            `;
            container.insertAdjacentHTML('beforeend', html);
        });
    }

    function renderWoolworthsList() {
        const container = document.getElementById('woolworths-list');
        
        if (meals.shopping.length === 0) {
            container.innerHTML = '<div class="empty-state"><p>No items in shopping list yet.</p></div>';
            return;
        }

        container.innerHTML = '';
        meals.shopping.forEach(item => {
            const searchUrl = `https://www.woolworths.com.au/shop/search/products?searchTerm=${encodeURIComponent(item.name)}`;
            const html = `
                <div class="shopping-item">
                    <div>
                        <div class="item-name">${item.name}</div>
                        <div class="item-qty">${item.qty} ${item.unit}</div>
                    </div>
                    <a href="${searchUrl}" target="_blank" class="woolworths-link">Search Woolworths</a>
                </div>
            `;
            container.insertAdjacentHTML('beforeend', html);
        });
    }

    function clearShoppingList() {
        if (confirm('Clear entire shopping list?')) {
            meals.shopping = [];
            saveData();
            renderAll();
        }
    }

    function openTab(evt, tabName) {
        document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.tab-button').forEach(el => el.classList.remove('active'));
        
        document.getElementById(tabName).classList.add('active');
        evt.currentTarget.classList.add('active');
        
        window.scrollTo(0, 0);
    }

    // Initial load
    loadData();
</script>

</body>
</html>